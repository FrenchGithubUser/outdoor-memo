"use strict";(globalThis["webpackChunkoutdoor_memo"]=globalThis["webpackChunkoutdoor_memo"]||[]).push([[385],{5385:(t,s,e)=>{e.r(s),e.d(s,{default:()=>W});var a=e(9835);const o={class:"header"},n={class:"right"};function r(t,s,e,r,i,d){const c=(0,a.up)("UserStats"),l=(0,a.up)("router-view"),u=(0,a.up)("q-page-container"),p=(0,a.up)("q-layout");return(0,a.wg)(),(0,a.j4)(p,{view:"lHh Lpr lFf"},{default:(0,a.w5)((()=>[(0,a._)("div",o,[(0,a._)("div",n,[(0,a.Wm)(c)])]),(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(l)])),_:1})])),_:1})}var i=e(6970);const d={class:"user-stats"},c={class:"popup",id:"stats-popup"},l={class:"today section shadow-3"},u=(0,a._)("span",{class:"title"},"Ajourd'hui :",-1),p={class:"subsection primary"},h={class:"subsection positive"},m={class:"total section shadow-3"},w=(0,a._)("span",{class:"title"},"Total :",-1),v={class:"subsection primary"},g={class:"subsection positive"};function y(t,s,e,o,n,r){const y=(0,a.up)("q-btn"),_=(0,a.up)("q-dialog");return(0,a.wg)(),(0,a.iD)("div",d,[(0,a.Wm)(y,{label:"Statistiques",color:"primary","no-caps":"",onClick:s[0]||(s[0]=s=>t.popupOpened=!0)}),(0,a.Wm)(_,{modelValue:t.popupOpened,"onUpdate:modelValue":s[1]||(s[1]=s=>t.popupOpened=s)},{default:(0,a.w5)((()=>[(0,a._)("div",c,[(0,a._)("div",l,[u,(0,a._)("div",p,(0,i.zw)(t.doneToday)+" réponses",1),(0,a._)("div",h,(0,i.zw)(t.correctToday)+" justes",1)]),(0,a._)("div",m,[w,(0,a._)("div",v,(0,i.zw)(t.doneTotal)+" réponses",1),(0,a._)("div",g,(0,i.zw)(t.correctTotal)+" justes",1)])])])),_:1},8,["modelValue"])])}e(6890);const _=(0,a.aZ)({name:"UserStats",props:{},data(){return{popupOpened:!1,stats:{},doneToday:0,correctToday:0,doneTotal:0,correctTotal:0}},created(){this.emitter.on("newAnswer",this.newAnswer),this.stats=JSON.parse(localStorage.getItem("userStats")),this.stats||(this.stats={items:[]}),this.stats.items.forEach((t=>{this.updateDisplayedStats(t)}))},methods:{newAnswer(t){t&&(this.stats.items.unshift(t),this.updateDisplayedStats(t),localStorage.setItem("userStats",JSON.stringify(this.stats)))},updateDisplayedStats(t){this.doneTotal++,t.status&&this.correctTotal++,this.isToday(new Date(t.date))&&(this.doneToday++,t.status&&this.correctToday++)},isToday(t){var s=new Date;return t.getDate()===s.getDate()&&t.getMonth()===s.getMonth()&&t.getFullYear()===s.getFullYear()}},beforeUnmount(){this.emitter.off("newAnswer",this.newAnswer())}});var T=e(1639),f=e(9379),S=e(7743),b=e(9984),D=e.n(b);const Z=(0,T.Z)(_,[["render",y]]),A=Z;D()(_,"components",{QBtn:f.Z,QDialog:S.Z});const O=(0,a.aZ)({name:"MainLayout",components:{UserStats:A},data(){return{}},created(){},methods:{}});var k=e(1967),q=e(2133);const U=(0,T.Z)(O,[["render",r],["__scopeId","data-v-c1cb1694"]]),W=U;D()(O,"components",{QLayout:k.Z,QPageContainer:q.Z})}}]);